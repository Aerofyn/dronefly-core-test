#!/usr/bin/env python
import sys
from dronefly.core import Commands
from rich import print
from rich.markdown import Markdown

commands = Commands()
command_arg = sys.argv[1]
command = getattr(commands, command_arg, None)
if not callable(command):
    print(f"No such command: {command_arg}")
    exit(1)
args = ' '.join(sys.argv[2:])
response = command(args)
print(Markdown(response))

